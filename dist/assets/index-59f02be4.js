import{r as s,j as v,ac as i}from"./index-a9e2cc54.js";function g({src:e,alt:f,threshold:u=0,...a}){const[c,l]=s.useState(!1),t=s.useRef(null),[m,n]=s.useState();return s.useEffect(()=>{typeof e=="function"?e().then(r=>{n(r.default)}):n(e)},[e]),s.useEffect(()=>{function r(){t.current&&o.unobserve(t.current)}const o=new IntersectionObserver(b=>{const{isIntersecting:p}=b[0];p&&(l(!0),r())},{threshold:u});return t.current&&o.observe(t.current),r},[e,u]),v.jsx("img",{ref:t,src:c?m:i,alt:f,onError:()=>{n(i)},...a})}export{g as L};
