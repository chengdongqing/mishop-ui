import{r as s,A as m,_ as c,v as L,j as e,u as A,c as f,I as E,f as B,a as H,S as _,w as P,d as V,g as F,R as w,G as I}from"./index-3c767ab5.js";import{C as D}from"./index-0ec23e3d.js";import{u as T}from"./useSetState-79d62186.js";import{u as G}from"./useIsElementVisible-d782c51e.js";var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Y=W;var O=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:Y}))};O.displayName="DownloadOutlined";const q=s.forwardRef(O);var J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"};const K=J;var C=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:K}))};C.displayName="MehOutlined";const Q=s.forwardRef(C);var U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};const X=U;var y=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:X}))};y.displayName="MinusCircleOutlined";const Z=s.forwardRef(y);var ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};const te=ee;var R=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:te}))};R.displayName="PlusCircleOutlined";const ae=s.forwardRef(R);var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};const ne=se;var N=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:ne}))};N.displayName="ReloadOutlined";const ce=s.forwardRef(N);var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const ie=le;var S=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:ie}))};S.displayName="RotateLeftOutlined";const oe=s.forwardRef(S);var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const de=re;var z=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:de}))};z.displayName="RotateRightOutlined";const me=s.forwardRef(z);var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const _e=ue;var M=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:_e}))};M.displayName="SmileOutlined";const he=s.forwardRef(M);var fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};const ge=fe;var $=function(a,t){return s.createElement(m,c(c({},a),{},{ref:t,icon:ge}))};$.displayName="StarFilled";const ve=s.forwardRef($),pe="_container_wgt8k_1",je="_open_wgt8k_12",be="_image_wrapper_wgt8k_15",xe="_btn_close_wgt8k_27",we="_btn_switch_wgt8k_47",Oe="_left_wgt8k_64",Ce="_right_wgt8k_67",ye="_disabled_wgt8k_70",Re="_footer_wgt8k_76",d={container:pe,open:je,image_wrapper:be,btn_close:xe,btn_switch:we,left:Oe,right:Ce,disabled:ye,footer:Re};function Ne({urls:n=[],index:a=0,onClose:t}){const[i,l]=s.useState(!1);A(()=>{l(!0)});const[o,v]=s.useState(a),[h,k]=T({scale:1,rotate:0}),j=s.useMemo(()=>o===0,[o]),b=s.useMemo(()=>o===n.length-1,[o,n.length]);return s.useEffect(()=>{v(a)},[n,a]),e.jsxs("div",{className:f(d.container,i&&d.open),children:[e.jsx("div",{className:d.btn_close,onClick:()=>{l(!1),setTimeout(t,500)},children:e.jsx(E,{type:"i-close"})}),e.jsx("div",{className:d.image_wrapper,children:e.jsx("img",{src:n[o],alt:"",style:{transform:`scale(${h.scale}) rotate(${h.rotate}deg)`}})}),e.jsx("div",{className:f(d.btn_switch,d.left,j&&d.disabled),title:j?"已是第一张":"",onClick:()=>{j||v(o-1)},children:e.jsx(B,{})}),e.jsx("div",{className:f(d.btn_switch,d.right,b&&d.disabled),title:b?"已是最后一张":"",onClick:()=>{b||v(o+1)},children:e.jsx(H,{})}),e.jsx(Se,{src:n[o],onChange:k})]})}function Se({src:n,onChange:a}){return e.jsx("div",{className:d.footer,children:e.jsxs(_,{split:"|",size:"3rem",children:[e.jsxs(_,{size:"2rem",children:[e.jsx(Z,{title:"缩小图片",onClick:()=>{a(t=>({scale:t.scale-.3}))}}),e.jsx(ae,{title:"放大图片",onClick:()=>{a(t=>({scale:t.scale+.3}))}})]}),e.jsxs(_,{children:[e.jsx(q,{title:"下载到本地",onClick:()=>{P(n,"")}}),e.jsx(ce,{title:"还原缩放",onClick:()=>{a({scale:1,rotate:0})}})]}),e.jsxs(_,{size:"2rem",children:[e.jsx(oe,{title:"向左旋转",onClick:()=>{a(t=>({rotate:t.rotate-90}))}}),e.jsx(me,{title:"向右旋转",onClick:()=>{a(t=>({rotate:t.rotate+90}))}})]})]})})}let u;function ze(n,a){u==null||u.unmount(),u=L(document.getElementById("popup")),u.render(e.jsx(Ne,{urls:n,index:a,onClose:()=>{u==null||u.unmount()}}))}const Me="_item_y5p7r_1",$e="_active_y5p7r_6",ke="_disabled_y5p7r_9",Le="_label_y5p7r_12",p={item:Me,active:$e,disabled:ke,label:Le};function Ae({count:n=5,value:a=5,disabled:t,character:i=e.jsx(ve,{}),children:l,onChange:o}){return e.jsxs(_,{children:[e.jsx(_,{children:Array(n).fill(null).map((v,h)=>e.jsx("div",{className:f(p.item,a>h&&p.active,t&&p.disabled),onClick:()=>{t||o==null||o(h+1)},children:typeof i=="function"?i(a):i},h))}),!!l&&e.jsx("div",{className:p.label,children:l})]})}const Ee=[{user:{avatar:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/0599f465efe793fee4af47e6de005efd.png",name:"ڡ***子"},date:"2023-05-15",rate:3,content:"性价比：高 拍照效果：拍照效果绝绝了 外观设计：很符合我的审美 发现线下不紧价格一样，但是服务是真的好，帮我把旧手机的所有数据帮我整理到新手机了，不需要我自己烧脑的弄，本来微信不用导聊天记录，太多了，店长还是不怕麻烦的建议我保留，说哪天突然想要了找不到就可惜了。点赞点赞",photos:["https://i1.mifile.cn/a2/1684138988_2662750_s4096_3072wh.jpg"]},{user:{avatar:"https://cdn.cnbj1.fds.api.mi-img.com/user-avatar/32dae1af-fae3-4706-99a2-df4ea71e4c1f.jpg",name:"CHOO"},date:"2023-05-12",rate:5,content:"运行速度：确实快，目前没有卡顿，有待观望 拍照效果：效果一流啊，得好好研究研究怎么拍照了 外观设计：橘色确实很好看",photos:["https://i1.mifile.cn/a2/1684126979_4134141_s1080_1920wh.jpg","https://i1.mifile.cn/a2/1684126976_9214686_s4096_3544wh.jpg","https://i1.mifile.cn/a2/1684126961_6348216_s4096_3544wh.jpg"]}],Be="_container_1r4wm_1",He="_categories_1r4wm_6",Pe="_title_1r4wm_9",Ve="_category_item_1r4wm_19",Fe="_active_1r4wm_33",g={container:Be,categories:He,title:Pe,category_item:Ve,active:Fe},Ie=[{label:"综合",number:852268},{label:"价格实惠",number:636},{label:"亮度可调",number:547},{label:"颜值够高",number:488},{label:"光线柔和",number:453},{label:"质量上乘",number:388},{label:"全部"}];function De({onChange:n}){const[a,t]=s.useState(0);return e.jsxs("div",{className:g.container,children:[e.jsx("div",{className:g.title,children:"大家认为"}),e.jsx("div",{className:g.categories,children:e.jsx(_,{size:"2.4rem",children:Ie.map((i,l)=>e.jsxs("div",{className:f(g.category_item,l===a&&g.active),onClick:()=>{t(l),n(l)},children:[i.label," ",!!i.number&&`（${i.number}）`]},i.label))})})]})}const Te="_container_1loa6_1",Ge="_body_1loa6_6",We="_header_1loa6_10",Ye="_title_1loa6_13",qe="_comment_list_1loa6_18",Je="_comment_item_1loa6_18",Ke="_user_info_1loa6_26",Qe="_avatar_1loa6_29",Ue="_name_1loa6_33",Xe="_date_1loa6_37",Ze="_content_1loa6_42",et="_photos_1loa6_48",tt="_single_1loa6_51",at="_go_top_1loa6_61",st="_btn_1loa6_68",r={container:Te,body:Ge,header:We,title:Ye,comment_list:qe,comment_item:Je,user_info:Ke,avatar:Qe,name:Ue,date:Xe,content:Ze,photos:et,single:tt,go_top:at,btn:st},nt="_container_4zgt8_1",ct="_people_number_4zgt8_7",lt="_percent_bar_4zgt8_15",x={container:nt,people_number:ct,percent_bar:lt};function it(){return e.jsxs("div",{className:x.container,children:[e.jsxs("div",{className:x.people_number,children:[e.jsx("span",{children:V(851475,"")}),"人购买后满意"]}),e.jsx("div",{className:x.percent_bar,children:e.jsx("span",{style:{width:"69%"},children:"满意度：69%"})})]})}function _t(){const[n,a]=s.useState(-1),[t,i]=s.useState(!1);s.useEffect(()=>{i(!0),setTimeout(()=>{i(!1)},1e3)},[n]);const l=s.useRef(null),o=G({elementRef:l,predicate(){return window.scrollY>200}});return e.jsx("div",{ref:l,style:{backgroundColor:"var(--color-background)"},children:e.jsxs("div",{className:r.container,children:[e.jsx(De,{onChange:a}),t?e.jsx(F,{style:{height:"30vh"}}):e.jsxs(w,{style:{marginTop:"3rem"},wrap:!1,children:[e.jsx(ot,{}),e.jsx(it,{}),e.jsx("div",{className:r.go_top,children:e.jsx("div",{hidden:!o,className:r.btn,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}})})]})]})})}function ot(){const[n,a]=s.useState(!1);return e.jsxs("div",{className:r.body,children:[e.jsxs(w,{justify:"space-between",align:"middle",className:r.header,children:[e.jsx("div",{className:r.title,children:"热门评价"}),e.jsx(D,{checked:n,onChange:a,children:"只显示带图评价"})]}),e.jsx("div",{className:r.comment_list,children:Ee.map(t=>{var i;return e.jsxs("div",{className:r.comment_item,children:[e.jsxs(w,{justify:"space-between",align:"middle",children:[e.jsxs(_,{size:"1.8rem",className:r.user_info,children:[e.jsx("img",{alt:t.user.name,src:t.user.avatar,className:r.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:r.name,children:t.user.name}),e.jsx("div",{className:r.date,children:t.date})]})]}),e.jsxs(Ae,{disabled:!0,value:t.rate,character:l=>l>3?e.jsx(he,{}):e.jsx(Q,{}),children:[t.rate,"分"]})]}),e.jsx("div",{className:r.content,children:t.content}),!!((i=t.photos)!=null&&i.length)&&e.jsx("div",{className:f(r.photos,t.photos.length===1&&r.single),children:e.jsx(I,{columns:4,gap:"0.8rem",children:t.photos.map((l,o)=>e.jsx("img",{src:l,alt:"",onClick:()=>{ze(t.photos,o)}},l))})})]},t.user.name)})})]})}export{_t as default};
