import{r as n,w as u,x as c,a7 as L,j as e,H as k,u as E,c as f,C as A,S as _,a8 as H,z as B,J as V,R as x,G as P}from"./index-ad9c4655.js";import{C as D}from"./index-66b37b56.js";import{L as I}from"./LeftOutlined-cf638d40.js";import{R as T}from"./RightOutlined-6272dd96.js";import{L as w}from"./index-62a9780a.js";import{R as F}from"./index-3de390a2.js";import{u as G}from"./useElementVisible-601d338f.js";var J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Y=J;var O=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:Y}))};O.displayName="DownloadOutlined";const q=n.forwardRef(O);var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"};const Q=K;var C=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:Q}))};C.displayName="MehOutlined";const U=n.forwardRef(C);var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};const X=W;var R=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:X}))};R.displayName="MinusCircleOutlined";const Z=n.forwardRef(R);var ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};const te=ee;var N=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:te}))};N.displayName="PlusCircleOutlined";const ae=n.forwardRef(N);var se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};const ne=se;var y=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:ne}))};y.displayName="ReloadOutlined";const ce=n.forwardRef(y);var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const oe=le;var z=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:oe}))};z.displayName="RotateLeftOutlined";const ie=n.forwardRef(z);var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const de=re;var M=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:de}))};M.displayName="RotateRightOutlined";const me=n.forwardRef(M);var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const _e=ue;var S=function(t,a){return n.createElement(u,c(c({},t),{},{ref:a,icon:_e}))};S.displayName="SmileOutlined";const he=n.forwardRef(S),fe="_container_16wg5_1",ge="_open_16wg5_12",ve="_image_wrapper_16wg5_15",pe="_btn_close_16wg5_27",je="_btn_switch_16wg5_47",xe="_left_16wg5_64",be="_right_16wg5_67",we="_disabled_16wg5_70",Oe="_footer_16wg5_76",i={container:fe,open:ge,image_wrapper:ve,btn_close:pe,btn_switch:je,left:xe,right:be,disabled:we,footer:Oe};function Ce({urls:s=[],index:t=0,onClose:a}){const[o,d]=n.useState(!1);k(()=>{d(!0)});const[r,g]=n.useState(t),[b,$]=E({scale:1,rotate:0}),v=n.useMemo(()=>r===0,[r]),p=n.useMemo(()=>r===s.length-1,[r,s.length]);return n.useEffect(()=>{g(t)},[s,t]),e.jsxs("div",{className:f(i.container,o&&i.open),children:[e.jsx("div",{className:i.btn_close,onClick:()=>{d(!1),setTimeout(a,500)},children:e.jsx(A,{type:"i-close"})}),e.jsx("div",{className:i.image_wrapper,children:e.jsx("img",{src:s[r],alt:"",style:{transform:`scale(${b.scale}) rotate(${b.rotate}deg)`}})}),e.jsx("div",{className:f(i.btn_switch,i.left,v&&i.disabled),title:v?"已是第一张":"",onClick:()=>{v||g(r-1)},children:e.jsx(I,{})}),e.jsx("div",{className:f(i.btn_switch,i.right,p&&i.disabled),title:p?"已是最后一张":"",onClick:()=>{p||g(r+1)},children:e.jsx(T,{})}),e.jsx(Re,{src:s[r],onChange:$})]})}function Re({src:s,onChange:t}){return e.jsx("div",{className:i.footer,children:e.jsxs(_,{split:"|",size:"3rem",children:[e.jsxs(_,{size:"2rem",children:[e.jsx(Z,{title:"缩小图片",onClick:()=>{t(a=>({scale:a.scale-.3}))}}),e.jsx(ae,{title:"放大图片",onClick:()=>{t(a=>({scale:a.scale+.3}))}})]}),e.jsxs(_,{children:[e.jsx(q,{title:"下载到本地",onClick:()=>{H(s,"")}}),e.jsx(ce,{title:"还原缩放",onClick:()=>{t({scale:1,rotate:0})}})]}),e.jsxs(_,{size:"2rem",children:[e.jsx(ie,{title:"向左旋转",onClick:()=>{t(a=>({rotate:a.rotate-90}))}}),e.jsx(me,{title:"向右旋转",onClick:()=>{t(a=>({rotate:a.rotate+90}))}})]})]})})}let m;function Ne(s,t){m==null||m.unmount(),m=L(document.getElementById("popup")),m.render(e.jsx(Ce,{urls:s,index:t,onClose:()=>{m==null||m.unmount()}}))}const ye=[{user:{avatar:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/0599f465efe793fee4af47e6de005efd.png",name:"ڡ***子"},date:"2023-05-15",rate:3,content:"性价比：高 拍照效果：拍照效果绝绝了 外观设计：很符合我的审美 发现线下不紧价格一样，但是服务是真的好，帮我把旧手机的所有数据帮我整理到新手机了，不需要我自己烧脑的弄，本来微信不用导聊天记录，太多了，店长还是不怕麻烦的建议我保留，说哪天突然想要了找不到就可惜了。点赞点赞",photos:["https://i1.mifile.cn/a2/1684138988_2662750_s4096_3072wh.jpg"]},{user:{avatar:"https://cdn.cnbj1.fds.api.mi-img.com/user-avatar/32dae1af-fae3-4706-99a2-df4ea71e4c1f.jpg",name:"CHOO"},date:"2023-05-12",rate:5,content:"运行速度：确实快，目前没有卡顿，有待观望 拍照效果：效果一流啊，得好好研究研究怎么拍照了 外观设计：橘色确实很好看",photos:["https://i1.mifile.cn/a2/1684126979_4134141_s1080_1920wh.jpg","https://i1.mifile.cn/a2/1684126976_9214686_s4096_3544wh.jpg","https://i1.mifile.cn/a2/1684126961_6348216_s4096_3544wh.jpg"]}],ze="_container_1r4wm_1",Me="_categories_1r4wm_6",Se="_title_1r4wm_9",$e="_category_item_1r4wm_19",Le="_active_1r4wm_33",h={container:ze,categories:Me,title:Se,category_item:$e,active:Le},ke=[{label:"综合",number:852268},{label:"价格实惠",number:636},{label:"亮度可调",number:547},{label:"颜值够高",number:488},{label:"光线柔和",number:453},{label:"质量上乘",number:388},{label:"全部"}];function Ee({onChange:s}){const[t,a]=n.useState(0);return e.jsxs("div",{className:h.container,children:[e.jsx("div",{className:h.title,children:"大家认为"}),e.jsx("div",{className:h.categories,children:e.jsx(_,{size:"2.4rem",children:ke.map((o,d)=>e.jsxs("div",{className:f(h.category_item,d===t&&h.active),onClick:()=>{a(d),s(d)},children:[o.label," ",!!o.number&&`（${o.number}）`]},o.label))})})]})}const Ae="_container_1loa6_1",He="_body_1loa6_6",Be="_header_1loa6_10",Ve="_title_1loa6_13",Pe="_comment_list_1loa6_18",De="_comment_item_1loa6_18",Ie="_user_info_1loa6_26",Te="_avatar_1loa6_29",Fe="_name_1loa6_33",Ge="_date_1loa6_37",Je="_content_1loa6_42",Ye="_photos_1loa6_48",qe="_single_1loa6_51",Ke="_go_top_1loa6_61",Qe="_btn_1loa6_68",l={container:Ae,body:He,header:Be,title:Ve,comment_list:Pe,comment_item:De,user_info:Ie,avatar:Te,name:Fe,date:Ge,content:Je,photos:Ye,single:qe,go_top:Ke,btn:Qe},Ue="_container_uoi6e_1",We="_people_number_uoi6e_7",Xe="_percent_bar_uoi6e_15",j={container:Ue,people_number:We,percent_bar:Xe};function Ze(){return e.jsxs("div",{className:j.container,children:[e.jsxs("div",{className:j.people_number,children:[e.jsx("span",{children:B(851475,"")}),"人购买后满意"]}),e.jsx("div",{className:j.percent_bar,children:e.jsx("span",{style:{width:"69%"},children:"满意度：69%"})})]})}function it(){const[s,t]=n.useState(-1),[a,o]=n.useState(!1);n.useEffect(()=>{o(!0),setTimeout(()=>{o(!1)},1e3)},[s]);const d=n.useRef(null),r=G(d,()=>window.scrollY>200);return e.jsx("div",{ref:d,style:{backgroundColor:"var(--color-background)"},children:e.jsxs("div",{className:l.container,children:[e.jsx(Ee,{onChange:t}),a?e.jsx(V,{style:{height:"30vh"}}):e.jsxs(x,{style:{marginTop:"3rem"},wrap:!1,children:[e.jsx(et,{}),e.jsx(Ze,{}),e.jsx("div",{className:l.go_top,children:e.jsx("div",{hidden:!r,className:l.btn,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}})})]})]})})}function et(){return e.jsxs("div",{className:l.body,children:[e.jsxs(x,{justify:"space-between",align:"middle",className:l.header,children:[e.jsx("div",{className:l.title,children:"热门评价"}),e.jsx(D,{children:"只显示带图评价"})]}),e.jsx("div",{className:l.comment_list,children:ye.map(s=>{var t;return e.jsxs("div",{className:l.comment_item,children:[e.jsxs(x,{justify:"space-between",align:"middle",children:[e.jsxs(_,{size:"1.8rem",className:l.user_info,children:[e.jsx(w,{alt:s.user.name,src:s.user.avatar,className:l.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:l.name,children:s.user.name}),e.jsx("div",{className:l.date,children:s.date})]})]}),e.jsx(F,{disabled:!0,value:s.rate,character:a=>a>3?e.jsx(he,{}):e.jsx(U,{})})]}),e.jsx("div",{className:l.content,children:s.content}),!!((t=s.photos)!=null&&t.length)&&e.jsx("div",{className:f(l.photos,s.photos.length===1&&l.single),children:e.jsx(P,{columns:4,gap:"0.8rem",children:s.photos.map((a,o)=>e.jsx(w,{src:a,alt:"",onClick:()=>{Ne(s.photos,o)}},a))})})]},s.user.name)})})]})}export{it as default};
